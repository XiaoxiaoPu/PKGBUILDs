# Maintainer:  Xiaoxiao <i@xiaoxiao.im>

pkgname=nodejs-mathjax
pkgver=20141210
pkgrel=1
pkgdesc="API's for calling MathJax from node.js"
arch=('any')
url="https://github.com/mathjax/MathJax-node"
license=('Apache')
depends=('nodejs')
_commit=abda209377c8f3dae1d8f183f9075311806912d2
source=("https://github.com/mathjax/MathJax-node/archive/${_commit}.tar.gz")
sha256sums=('bdd8da84b870b84fd70be2d4550d01d1c8cd8a01f21a6e764d85834235337819')

package() {
	npm install --python=/usr/bin/python2 -g --user root --prefix "${pkgdir}/usr" "${srcdir}/MathJax-node-${_commit}"
	mkdir -p "${pkgdir}/usr/bin"
	for bin in $(ls ${pkgdir}/usr/lib/node_modules/MathJax-node/bin/); do
		ln -s /usr/lib/node_modules/MathJax-node/bin/${bin} "${pkgdir}/usr/bin/"
	done
}
